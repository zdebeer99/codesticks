$(document).ready(function(){$("#xgenerate").click(function(){$("#xresult").val(list2code.generate($("#xdata").val(),$("#xtemplate").val()))})});
var list2code=new function(){function d(b,c){regex=RegExp("{-?[0-9]+}","g");return b.replace(regex,function(a){a=parseInt(a.substring(1,a.length-1));return 0<=a?c[a]:-1===a?"{":-2===a?"}":""})}this.generate=function(b,c){lines=b.split("\n");var a="";for(linen in lines)linestr=lines[linen],args=linestr.split(","),temp=new String(c),a+=d(new String(temp),args);return a}};